# Java'da Generics va Wildcardlar

## 1. Generics nima?

**Generics** (umumlashtirilgan tiplar) Java'da tiplarni xavfsiz va moslashuvchan tarzda ishlatish imkonini beruvchi xususiyatdir. Ular Java 5 versiyasida joriy etilgan va asosan kolleksiyalar (`List`, `Set`, `Map`) va boshqa classlarda tiplarni aniqlik bilan boshqarish uchun ishlatiladi. Generics yordamida kodni umumiy tarzda yozish mumkin, bu esa kodning qayta ishlatilishini osonlashtiradi va xatolarni oldini oladi.

### Genericsning asosiy afzalliklari:
1. **Tip xavfsizligi (Type Safety):** Kompilyatsiya vaqtida noto‘g‘ri tiplarni ishlatishning oldi olinadi.
2. **Casting zaruriyatini yo‘qotish:** Ob’ektlarni qo‘lda tiplarga aylantirish (casting) kerak emas.
3. **Kodning o‘qilishi va qayta ishlatilishi:** Kod aniqroq va turli tiplar bilan ishlay oladi.

### Generics sintaksisi:
Generics `<T>` yoki boshqa harf (`<E>`, `<K>`, `<V>`) sifatida ishlatiladi. Masalan:

```java
public class Box<T> {
    private T item;

    public void setItem(T item) {
        this.item = item;
    }

    public T getItem() {
        return item;
    }
}
```

Yuqoridagi classni turli tiplar bilan ishlatish mumkin:

```java
Box<String> stringBox = new Box<>();
stringBox.setItem("Salom");
System.out.println(stringBox.getItem()); // "Salom"

Box<Integer> intBox = new Box<>();
intBox.setItem(123);
System.out.println(intBox.getItem()); // 123
```

### Kolleksiyalarda Generics:
```java
List<String> list = new ArrayList<>();
list.add("Java");
list.add("Python");
// list.add(123); // Kompilyatsiya xatosi, faqat String qabul qilinadi
```

## 2. Wildcard nima?

**Wildcard** (belgisiz tip, `?`) Java'da generics bilan ishlaganda aniq tipni belgilamasdan, umumiy tiplarni qabul qilish uchun ishlatiladi. Wildcard genericsning moslashuvchanligini oshiradi. Wildcard `?` shaklida yoziladi va uch xil turda bo‘ladi:

1. **Upper Bounded Wildcard (`? extends T`)**: Faqat `T` tipi yoki uning vorislarini qabul qiladi.
2. **Lower Bounded Wildcard (`? super T`)**: Faqat `T` tipi yoki uning ota-classlarini qabul qiladi.
3. **Unbounded Wildcard (`?`)**: Har qanday tipni qabul qiladi.

### 2.1. Upper Bounded Wildcard (`? extends T`)
`T` tipidan yoki uning vorislaridan kelgan tiplarni qabul qiladi. Asosan **o‘qish** uchun ishlatiladi.

```java
public void printList(List<? extends Number> list) {
    for (Number num : list) {
        System.out.println(num);
    }
}
```

Masalan:

```java
List<Integer> intList = Arrays.asList(1, 2, 3);
List<Double> doubleList = Arrays.asList(1.1, 2.2, 3.3);
printList(intList);   // 1, 2, 3
printList(doubleList); // 1.1, 2.2, 3.3
```

**Cheklov:** Ro‘yxatga element qo‘shib bo‘lmaydi.

### 2.2. Lower Bounded Wildcard (`? super T`)
`T` tipidan yoki uning ota-classlaridan kelgan tiplarni qabul qiladi. Asosan **yozish** uchun ishlatiladi.

```java
public void addNumbers(List<? super Integer> list) {
    list.add(1);
    list.add(2);
}
```

Masalan:

```java
List<Number> numberList = new ArrayList<>();
addNumbers(numberList);
System.out.println(numberList); // [1, 2]
```

**Cheklov:** Ro‘yxatdan aniq tip sifatida o‘qib bo‘lmaydi, faqat `Object` sifatida.

### 2.3. Unbounded Wildcard (`?`)
Har qanday tipni qabul qiladi. Umumiy operatsiyalar uchun ishlatiladi.

```java
public void printSize(List<?> list) {
    System.out.println("Ro‘yxat hajmi: " + list.size());
}
```

Masalan:

```java
List<String> strList = Arrays.asList("A", "B");
List<Integer> intList = Arrays.asList(1, 2, 3);
printSize(strList); // Ro‘yxat hajmi: 2
printSize(intList); // Ro‘yxat hajmi: 3
```

## 3. Wildcard va Generics o‘rtasidagi farqlar

- **Generics** aniq tipni belgilaydi (`<T>`, `<String>`), wildcard esa umumiyroq (`?`).
- Generics class yoki metodni aniq tip bilan ishlatish uchun, wildcard esa moslashuvchanlik uchun ishlatiladi.
- Wildcard genericsning bir qismi sifatida ishlaydi.

### PECS qoidasi (Producer-Extends, Consumer-Super):
- **Producer (o‘qish):** `? extends T` ishlatiladi.
- **Consumer (yozish):** `? super T` ishlatiladi.

## 4. Amaliy misollar

### Misol 1: Upper Bounded Wildcard
```java
public static double sum(List<? extends Number> list) {
    double total = 0;
    for (Number num : list) {
        total += num.doubleValue();
    }
    return total;
}

public static void main(String[] args) {
    List<Integer> intList = Arrays.asList(1, 2, 3);
    List<Double> doubleList = Arrays.asList(1.5, 2.5, 3.5);
    System.out.println(sum(intList));    // 6.0
    System.out.println(sum(doubleList)); // 7.5
}
```

### Misol 2: Lower Bounded Wildcard
```java
public static void addNumbers(List<? super Integer> list) {
    list.add(10);
    list.add(20);
}

public static void main(String[] args) {
    List<Number> numberList = new ArrayList<>();
    addNumbers(numberList);
    System.out.println(numberList); // [10, 20]
}
```

### Misol 3: Unbounded Wildcard
```java
public static void printAnyList(List<?> list) {
    System.out.println("Elementlar: " + list);
}

public static void main(String[] args) {
    List<String> strList = Arrays.asList("A", "B", "C");
    List<Integer> intList = Arrays.asList(1, 2, 3);
    printAnyList(strList); // Elementlar: [A, B, C]
    printAnyList(intList); // Elementlar: [1, 2, 3]
}
```

## 5. Wildcard cheklovlari
- `? extends T`: Ro‘yxatga element qo‘shib bo‘lmaydi.
- `? super T`: Ro‘yxatdan aniq tip sifatida o‘qib bo‘lmaydi.
- `?`: Na aniq yozish, na aniq o‘qish mumkin.

## Xulosa
- **Generics** tip xavfsizligini ta’minlaydi va kodni umumiy qiladi.
- **Wildcard** genericsni moslashuvchan qiladi, lekin `extends` va `super` qoidalarini tushunish muhim.
- **PECS** qoidasi wildcardlardan to‘g‘ri foydalanishni ta’minlaydi.
